<html>

<head>
    <style type="text/css">
        body {
            background-color: #CCCCCC;
        }
    </style>
    
    <script>
        function createBase(name, title_name, color, init, fini){
            let title_id = name+'_title';
            let open_id = name+'_open';
            let title = document.createElement('a');
            title.id = title_id;
            title.style = 'cursor:pointer; user-select:none;';
            
            let open = document.createElement('div');
            open.id = open_id;
            open.style = 'display:none; clear:both; cursor:pointer; user-select:none;';

            addEventListener('load' ,function(){
                title.textContent = 'â–¼ '+title_name;
            })
            title.addEventListener('click',function(){
                let open_style = open.style;
                if(open_style.display === 'none'){
                    open_style.display = 'block';
                    title.textContent = 'â–² '+title_name;

                    init();
                }else{
                    open_style.display = 'none';
                    title.textContent = 'â–¼ '+title_name;
                    
                    fini();
                }
            });

            let base = document.createElement('span');
            base.appendChild( title );
            base.appendChild( open );
            // let parent = document.getElementById(name);
            let parent = document.createElement('div');
            parent.style.backgroundColor = color;
            parent.appendChild( base );

            document.body.appendChild( parent );
        }
    </script>
</head>

<body>
    <!-- trp2 -->
    ã‚¯ãƒªã‚¢
    <!-- /trp2 -->

    <br>
    <br>

    <!-- trp3 -->
    <div style="background-color:#ffcc99;">
        <!-- æŠ˜ã‚Šç•³ã¿å±•é–‹ãƒã‚¤ãƒ³ã‚¿ -->
        <a id="trp3_title" style="cursor:pointer;" onclick="obj=document.getElementById('trp3_open').style; obj.display=(obj.display=='none')?'block':'none';">
            trp3_dummy
            <script>
                var trp3_title_1 = 'â–¼ trp_story_3';
                var trp3_title_2 = 'â–² trp_story_3';
                addEventListener('load' ,function(){
                    document.getElementById('trp3_title').innerHTML = trp3_title_1;
                })
                document.getElementById('trp3_title').addEventListener('click' ,function(){
                    var elm = document.getElementById('trp3_title');
                    if(elm.innerHTML === trp3_title_1)  {elm.innerHTML = trp3_title_2;}
                    else                                {elm.innerHTML = trp3_title_1;}
                })
            </script>
        </a>
        <!--// æŠ˜ã‚Šç•³ã¿å±•é–‹ãƒã‚¤ãƒ³ã‚¿ -->
            
        <!-- æŠ˜ã‚Šç•³ã¾ã‚Œéƒ¨åˆ† -->
        <div id="trp3_open" style="display:none;clear:both;">
        ã€€ã‚¯ãƒªã‚¢
        </div>
        <!--ã“ã“ã®éƒ¨åˆ†ãŒæŠ˜ã‚ŠãŸãŸã¾ã‚Œã‚‹ï¼†å±•é–‹ã•ã‚Œã‚‹éƒ¨åˆ†ã«ãªã‚Šã¾ã™ã€‚
        è‡ªç”±ã«è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚-->  
    </div>
    <!-- /trp3 -->

    <br>

    <!-- trp4 -->
    <div style="background-color:#33aa77;">
        <a id="trp4_title" style="cursor:pointer;" onclick="obj=document.getElementById('trp4_open').style; obj.display=(obj.display=='none')?'block':'none';">
            trp4_dummy
            <script>
                var trp4_title_1 = 'â–¼ trp_story_4';
                var trp4_title_2 = 'â–² trp_story_4';
                addEventListener('load' ,function(){
                    document.getElementById('trp4_title').innerHTML = trp4_title_1;
                })
                document.getElementById('trp4_title').addEventListener('click' ,function(){
                    var elm = document.getElementById('trp4_title');
                    if(elm.innerHTML === trp4_title_1)  {elm.innerHTML = trp4_title_2;}
                    else                                {elm.innerHTML = trp4_title_1;}
                })
            </script>
        </a>
        
        <div id="trp4_open"  style="display:none;clear:both;">
            <a>ã€€</a><!-- å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹ -->
            <a style="cursor:pointer;" onclick="innerHTML='ã‚¯'">â– </a>
            <a style="cursor:pointer;" onclick="innerHTML='ãƒª'">â– </a>
            <a style="cursor:pointer;" onclick="innerHTML='ã‚¢'">â– </a>
        </div>
    </div>
    <!-- /trp4 -->

    <br>

    <!-- trp5 -->
    <div style="background-color:#00cccc;">
        <a id="trp5_title" style="cursor:pointer;" onclick="obj=document.getElementById('trp5_open').style; obj.display=(obj.display=='none')?'block':'none';">
            trp5_dummy
            <script>
                var trp5_titles = ['â–¼ trp_story_5','â–² trp_story_5'];
                addEventListener('load' ,function(){
                    document.getElementById('trp5_title').innerHTML = trp5_titles[0];
                })
                document.getElementById('trp5_title').addEventListener('click' ,function(){
                    var elm = document.getElementById('trp5_title');
                    if(elm.innerHTML === trp5_titles[0]){elm.innerHTML = trp5_titles[1];}
                    else                                {elm.innerHTML = trp5_titles[0];}
                })
            </script>
        </a>
        
        <div id="trp5_open"  style="display:none;clear:both;">
            <script>
                var trp5_slot = ['ã‚¯','ãƒª','ã‚¢'];
                var trp5_slot_len = 3;
                var trp5_slot_id = [];
                var trp5_slot_num = [];
                var trp5_rolling = [];

                function slotAction(){
                    var rolling_i = -1;
                    for(let i = 0; i < trp5_slot_len; i++){
                        if(trp5_rolling[i]){
                            rolling_i = i;
                            break;
                        }
                    }

                    if(rolling_i === -1){
                        function slot(i){
                            return document.getElementById(trp5_slot_id[i]).innerHTML;
                        }
                        if(slot(0) === 'ã‚¯' && slot(1) === 'ãƒª' && slot(2) === 'ãƒª'){
                            if(document.getElementById('trp5_invisible_slot_id').innerHTML === 'ãƒ³'){
                                document.getElementById('trp5_invisible_slot_id').innerHTML = '';
                            }else{
                                document.getElementById('trp5_invisible_slot_id').innerHTML = "ãƒ³";
                                return;
                            }
                        }
                        if(slot(0) === 'ã‚¯' && slot(1) === 'ãƒª' && slot(2) === 'ã‚¢'){
                            if(document.getElementById('trp5_invisible_slot_id').innerHTML === 'â˜…'){
                                document.getElementById('trp5_invisible_slot_id').innerHTML = '';
                            }else{
                                document.getElementById('trp5_invisible_slot_id').innerHTML = "â˜…";
                                return;
                            }
                        }

                        for(var i = 0; i < trp5_slot_len; i++){
                            trp5_rolling[i] = true;
                        }
                    }else{
                        trp5_rolling[ rolling_i ] = false;
                    }
                }
                
                document.write('<div onclick="slotAction();" style="cursor:pointer;user-select:none;" onCopy="return false;">');
                document.write('<br>');
                document.write('ã€€');
                for(let i = 0; i < trp5_slot_len; i++){
                    trp5_slot_id.push('trp5_slot'+i);
                    trp5_slot_num.push(i % trp5_slot.length);
                    trp5_rolling.push(true);
                    document.write('<span id='+trp5_slot_id[i]+'>dummy</span>');
                }
                document.write('<span id="trp5_invisible_slot_id"></span>');
                document.write('<br>');
                document.write('ã€€');
                document.write('</div>');

                function trp5_roll(){
                    for(var i = 0; i < trp5_slot_len; i++){
                        if(trp5_rolling[i]){
                            trp5_slot_num[i] = (trp5_slot_num[i]+1) % trp5_slot.length;

                            document.getElementById(trp5_slot_id[i]).innerHTML = trp5_slot[ trp5_slot_num[i] ];
                        }
                    }
                }
                setInterval(trp5_roll ,50);
            </script>
        </div>
    </div>
    <!-- /trp5 -->

    <br>

    <!-- trp6 -->
    <div style="background-color:#e44ea0;">
        <a id="trp6_title" style="cursor:pointer;user-select:none;" onclick="obj=document.getElementById('trp6_open').style; obj.display=(obj.display=='none')?'block':'none';">
            trp6_dummy
            <script>
                var trp6_titles = ['â–¼ trp_story_6','â–² trp_story_6'];
                var trp6_titles_index = 0;
                addEventListener('load' ,function(){
                    document.getElementById('trp6_title').innerHTML = trp6_titles[0];
                })
                document.getElementById('trp6_title').addEventListener('click' ,function(){
                    document.getElementById('trp6_title').innerHTML = trp6_titles[ ++trp6_titles_index % trp6_titles.length ];
                })
            </script>
        </a>
        
        <div id="trp6_open" style="display:none;clear:both;">
            <script>
                var trp6_x_len = 8;
                var trp6_y_len = 8;
                var trp6_squares = [];
                var trp6_squares_id = [];
                var trp6_block = 'â– ';
                var trp6_air = 'â˜†';
                var trp6_clear_indexes = [
                     [0,0]//y,x
                    ,[0,0]
                    ,[0,0]
                ];

                for(let y = 0; y < trp6_y_len; y++){
                    let line = [];
                    let ids = [];
                    for(let x = 0; x < trp6_x_len; x++){
                        line.push( trp6_block );
                        let id_num = y * trp6_x_len + x;
                        ids.push( 'trp6_square_id'+id_num );
                    }
                    trp6_squares.push( line );
                    trp6_squares_id.push( ids );
                }
                {
                    let y = Math.floor( Math.random() * trp6_y_len );
                    let x = Math.floor( Math.random() * trp6_x_len );
                    trp6_squares[y][x] = trp6_air;
                }
                {
                    let phase = 0;
                    while(true){
                        let y = Math.floor( Math.random() * trp6_y_len );
                        let x = Math.floor( Math.random() * trp6_x_len );

                        if(trp6_squares[y][x] === trp6_block){
                            if(phase === 0){
                                trp6_squares[y][x] = 'ã‚¯';
                                trp6_clear_indexes[0] = [y,x];
                            }else if(phase === 1){
                                trp6_squares[y][x] = 'ãƒª';
                                trp6_clear_indexes[1] = [y,x];
                            }else if(phase === 2){
                                trp6_squares[y][x] = 'ã‚¢';
                                trp6_clear_indexes[2] = [y,x];
                            }else{
                                break;
                            }

                            phase++;
                        }
                    }   
                }

                function trp6_drawSquare(y,x){
                    document.getElementById( trp6_squares_id[y][x] ).innerHTML = trp6_squares[y][x];
                }

                function trp6_drawSquares(){
                    for(let y = 0; y < trp6_squares.length; y++){
                        for(let x = 0; x < trp6_squares[y].length; x++){
                            trp6_drawSquare(y,x);
                        }
                    }
                }

                function trp6_clickSquare(y,x){
                    let add = [
                         [-1, 0]//y,x
                        ,[ 0, 1]
                        ,[ 1, 0]
                        ,[ 0,-1]
                    ];
                    for(let i = 0; i < add.length; i++){
                        let _y = y + add[i][0];
                        let _x = x + add[i][1];
                        if(_y < 0 || _y >= trp6_squares.length || _x < 0 || _x >= trp6_squares[_y].length){continue;}

                        let square = trp6_squares[_y][_x];
                        if(square === trp6_air){
                            trp6_squares[_y][_x] = trp6_squares[y][x];
                            trp6_squares[y][x] = trp6_air;
                            
                            trp6_drawSquare(y,x);
                            trp6_drawSquare(_y,_x);

                            if(trp6_squares[_y][_x] === 'ã‚¯'){trp6_clear_indexes[0] = [_y,_x];}
                            if(trp6_squares[_y][_x] === 'ãƒª'){trp6_clear_indexes[1] = [_y,_x];}
                            if(trp6_squares[_y][_x] === 'ã‚¢'){trp6_clear_indexes[2] = [_y,_x];}

                            if(trp6_squares[_y][_x] !== trp6_block){
                                trp6_checkClear();
                            }

                            break;
                        }
                    }
                }

                function trp6_checkClear(){
                    let ku = trp6_clear_indexes[0];
                    let ri = trp6_clear_indexes[1];
                    let a  = trp6_clear_indexes[2];

                    let clear = function(){
                        document.getElementById('trp6_invisible_clear_id').innerHTML = 'ã‚¯ãƒªã‚¢â˜…';
                    };
                    //ã‚¯ãƒªã‚¢
                    if(ri[0] === ku[0] && ri[1] === ku[1]+1 && a[0] === ku[0] && a[1] === ku[1]+2){
                        clear();
                        return;
                    }
                    //ã‚¯ï¼¿ï¼¿
                    //ãƒªï¼¿ï¼¿
                    //ã‚¢ï¼¿ï¼¿
                    if(ri[0] === ku[0]+1 && ri[1] === ku[1] && a[0] === ku[0]+2 && a[1] === ku[1]){
                        clear();
                        return;
                    }
                    //ã‚¯ï¼¿ï¼¿
                    //ï¼¿ãƒªï¼¿
                    //ï¼¿ï¼¿ã‚¢
                    if(ri[0] === ku[0]+1 && ri[1] === ku[1]+1 && a[0] === ku[0]+2 && a[1] === ku[1]+2){
                        clear();
                        return;
                    }
                }
                
                document.write('<div style="cursor:pointer;user-select:none;">');
                document.write('<br>');
                for(let y = 0; y < trp6_squares.length; y++){
                    for(let x = 0; x < trp6_squares[y].length; x++){
                        let onclick = 'onclick="trp6_clickSquare('+y+','+x+');"';
                        document.write('<span id='+trp6_squares_id[y][x]+' '+onclick+'>dummy</span>');
                    }
                    document.write('<br>');
                }
                document.write('<br>');
                document.write('<span id="trp6_invisible_clear_id"></span>');
                document.write('ã€€');
                document.write('</div>');


                trp6_drawSquares();

            </script>
        </div>
    </div>
    <!-- /trp6 -->

    <br>
    
    <!-- trp7 -->
    <div style="background-color:#88c7aa;">
        <a id="trp7_title" style="cursor:pointer;user-select:none;" 
            onclick="obj=document.getElementById('trp7_open').style;obj.display=(obj.display=='none')?'block':'none';"
        >
            trp7_dummy
            <script>
                var trp7_titles = ['â–¼ trp_story_7','â–² trp_story_7'];
                var trp7_title_id = document.getElementById('trp7_title');
                addEventListener('load' ,function(){
                    trp7_title_id.innerHTML = trp7_titles[0];
                })
                trp7_title_id.addEventListener('click' ,function(){
                    if(trp7_title_id.innerHTML === trp7_titles[0])  {trp7_title_id.innerHTML = trp7_titles[1];}
                    else                                            {trp7_title_id.innerHTML = trp7_titles[0];}
                })
            </script>
        </a>
        
        <div id="trp7_open" style="display:none;clear:both;cursor:pointer;">
            <span style="color:#88c7aa;">ã€€ã‚¯ãƒªã‚¢</span>
        </div>
    </div>
    <!-- /trp7 -->

    <br>
    
    <!-- trp7a -->
    <div style="background-color:#AAAA00;">
        <a id="trp7a_title" style="cursor:pointer;user-select:none;" >
            trp7a_dummy
            <script>
                var trp7a_titles = ['â–¼ trp_story_7a','â–² trp_story_7a'];
                var trp7a_title_id = document.getElementById('trp7a_title');
                var trp7a_original_title = document.title;
                addEventListener('load' ,function(){
                    trp7a_title_id.innerHTML = trp7a_titles[0];
                })
                trp7a_title_id.addEventListener('click' ,function(){
                    if(trp7a_title_id.innerHTML === trp7a_titles[0])  {
                        trp7a_title_id.innerHTML = trp7a_titles[1];
                        document.title = 'ã‚¯ãƒªã‚¢';
                    }else{
                        trp7a_title_id.innerHTML = trp7a_titles[0];
                        document.title = trp7a_original_title;
                    }
                })
            </script>
        </a>
    </div>
    <!-- /trp7a -->

    <br>

    <!-- trp7b -->
    <script>
        let trp7b_clear = document.createElement('span');
            trp7b_clear.textContent = 'ã€€ã‚¯ãƒªã‚¢';
            trp7b_clear.style.fontSize = '1000%';
        createBase('trp7b','trp_story_7b','#b10808',()=>{} ,()=>{});
        document.getElementById('trp7b_open').appendChild( trp7b_clear );
    </script>

    <br>

    <!-- trp7c -->
    <script>
        let trp7c_id =
            [
                'trp3_title',
                'trp4_title',
                'trp5_title',
                'trp6_title',
                'trp7_title',
                'trp7a_title',
                'trp7b_title',
            ];
        let trp7c_text_bak = [];
        createBase('trp7c','trp_story_7c','#616161',()=>{
            let clear = 'â–¶ ã‚¯ãƒªã‚¢â˜…';
            trp7c_text_bak = [];
            for(let i = 0; i < trp7c_id.length; i++){
                let elm = document.getElementById(trp7c_id[i]);
                trp7c_text_bak.push( elm.innerHTML );
                elm.innerHTML = clear;
            }
        } ,()=>{
            for(let i = 0; i < trp7c_id.length; i++){
                document.getElementById(trp7c_id[i]).innerHTML = trp7c_text_bak[i];
            }
        });
    </script>
    
    <br>

    <!-- trp7d -->
    <script>
        let trp7d_init = false;
        createBase('trp7d','trp_story_7d','#8d7ae0',()=>{
            if(trp7d_init){return;}
            trp7d_init = true;

            let invisible_clear_elm = document.createElement('span');
            
            let x_len = 30;
            let y_len = 10;
            let strings = [];
            let clear = ['ã‚¯','ãƒª','ã‚¢'];
            for(let y = 0; y < y_len; y++){
                let arr = [];
                for(let x = 0; x < x_len; x++){
                    let index = Math.floor( Math.random() * clear.length );
                    arr.push( clear[index] );
                }
                strings.push( arr );
            }
            for(let y = 0; y < y_len; y++){
                for(let x = 0; x < x_len-2; x++){
                    if(strings[y][x] === 'ã‚¯' && strings[y][x+1] === 'ãƒª' && strings[y][x+2] === 'ã‚¢'){
                        strings[y][x] = 'â˜…';
                        continue;
                    }
                    if(y < y_len-2){
                        //ã‚¯ï¼¿ï¼¿
                        //ãƒªï¼¿ï¼¿
                        //ã‚¢ï¼¿ï¼¿
                        if(strings[y][x] === 'ã‚¯' && strings[y+1][x] === 'ãƒª' && strings[y+2][x] === 'ã‚¢'){
                            strings[y][x] = 'â˜…';
                            continue;
                        }
                        //ã‚¯ï¼¿ï¼¿
                        //ï¼¿ãƒªï¼¿
                        //ï¼¿ï¼¿ã‚¢
                        if(strings[y][x] === 'ã‚¯' && strings[y+1][x+1] === 'ãƒª' && strings[y+2][x+2] === 'ã‚¢'){
                            strings[y][x] = 'â˜…';
                            continue;
                        }
                    }
                }
            }

            let clear_x = Math.floor( Math.random() * (x_len-2) );
            let clear_y = Math.floor( Math.random() * y_len );

            strings[clear_y][clear_x]   = 'ã‚¯';
            strings[clear_y][clear_x+1] = 'ãƒª';
            strings[clear_y][clear_x+2] = 'ã‚¢';

            let parent = document.createElement('span');
            for(let y = 0; y < y_len; y++){
                let str = '';
                for(let x = 0; x < x_len; x++){
                    str += strings[y][x];
                }

                if(y === clear_y){
                    let line1 = document.createElement('span');
                    line1.textContent = str.substring(0,clear_x);
                    parent.appendChild( line1 );
                    
                    let clear_elm = document.createElement('span');
                    clear_elm.textContent = str.substring(clear_x ,clear_x+3);
                    clear_elm.addEventListener('click',()=>{
                        invisible_clear_elm.textContent = 'ã‚¯ãƒªã‚¢â˜…';
                    });
                    parent.appendChild( clear_elm );

                    let line2 = document.createElement('span');
                    line2.textContent = str.substring(clear_x+3,str.length);
                    parent.appendChild( line2 );

                    parent.appendChild( document.createElement('br') );
                }else{
                    let line = document.createElement('span');
                    line.textContent = str;
                    parent.appendChild( line );
                    parent.appendChild( document.createElement('br') );
                }
            }

            parent.appendChild( document.createElement('br') );
            parent.appendChild( invisible_clear_elm );

            document.getElementById('trp7d_open').appendChild( parent );
        } ,()=>{});
    </script>

    <br>

    <!-- trp7e -->
    <script>
        let trp7e_init;
        createBase('trp7e','trp_story_7e','f0b616',()=>{
            if(trp7e_init){return;}
            trp7e_init = true;
            
            let invisible_clear_elm = document.createElement('span');
            let input = document.createElement('input');
            let btn = document.createElement('button');
            btn.textContent = 'å®Ÿè¡Œ';
            btn.addEventListener('click',()=>{
                if(     (input.value.indexOf('ã‚¯ãƒªã‚¢') !== -1)
                    ||  (input.value.indexOf('ãã‚Šã‚') !== -1)
                    ||  (input.value.toLowerCase().indexOf('clear') !== -1)
                ){
                    invisible_clear_elm.textContent = 'ã‚¯ãƒªã‚¢â˜…';
                }
            });
            let base = document.getElementById('trp7e_open');
            base.appendChild( input );
            base.appendChild( btn );
            base.appendChild( document.createElement('br') );
            base.appendChild( invisible_clear_elm );
            base.appendChild( document.createElement('br') );

        } ,()=>{
        });
    </script>

    <br>

    <!-- trp7f -->
    <script>
        let trp7f_str = 'ã€€ã‚¯ãƒªã‚¢â˜…';
        let trp7f_elm = document.createElement('span');
        createBase('trp7f','trp_story_7f','#996a2c'
            ,()=>{
                if(trp7f_elm.textContent.length < trp7f_str.length){
                    trp7f_elm.textContent = trp7f_str.substring(0 ,trp7f_elm.textContent.length+1);
                }
            },()=>{
            });
        document.getElementById('trp7f_open').appendChild( trp7f_elm );
    </script>

    <br>

    <!-- trp7g -->
    <script>
        let trp7g_init;
        createBase('trp7g','trp_story_7g','#c0f1c4',()=>{
            if(trp7g_init){return;}
            trp7g_init = true;
            
            let input = document.createElement('input');
            let input_changed = document.createElement('span');
            input.addEventListener('change',()=>{
                let str = '';
                for(let i = 0; i < input.value.length; i++){
                    let c = input.value.charCodeAt(i) - 1;
                    str += String.fromCharCode(c);
                }
                console.log(str);
                if(str === 'ã‚¯ãƒªã‚¢' || str === 'ãã‚Šã‚' || str.toLowerCase() === 'clear'){
                    input_changed.textContent = 'ã‚¯ãƒªã‚¢â˜…';
                }else{
                    input_changed.textContent = str;
                }
            });
            let base = document.getElementById('trp7g_open');
            base.appendChild( input );
            base.appendChild( document.createElement('br') );
            base.appendChild( input_changed );
            base.appendChild( document.createElement('br') );

        } ,()=>{
        });
    </script>

    <br>

    <!-- trp7h -->
    <script>
        let trp7h_init = false;
        createBase('trp7h','trp_story_7h','#388dfc' ,()=>{
            if(trp7h_init){return;}
            trp7h_init = true;
            
            let clear = 'ã‚¯ãƒªã‚¢';
            let game_end_msg = document.createElement('span');
            let base = document.getElementById('trp7h_open');
            let strings = ['ã¯ã„','ã„ã„ãˆ',clear];
            let space = document.createElement('span');
            space.textContent = 'ã€€';
            base.appendChild( space );

            for(let s of strings){
                let radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = 'clear';
                if(s === clear){
                    radio.addEventListener('change',()=>{
                        game_end_msg.textContent = 'ã€€ã‚¯ãƒªã‚¢â˜…';
                    });
                }

                let span = document.createElement('span');
                span.textContent = s;
                base.appendChild( radio );
                base.appendChild( span );
            }
            
            base.appendChild( document.createElement('br') );
            base.appendChild( game_end_msg );
        } ,()=>{
        });
    </script>
    <br>

    <!-- trp7i -->
    <style>
        trp7i_left{
            width:20px;
            background-color:#AAAA00;
            position:relative;
        }
    </style>
    <script>
        let trp7i_init = false;
        createBase('trp7i','trp_story_7i','#f13838',()=>{
            if(trp7i_init){return;}
            trp7i_init = true;

            let CLEAR = 
                [
                    'â–¡â– â– â– â– â– â–¡â–¡â– â–¡â–¡â–¡â– â–¡â–¡â– â– â– â– â– â– â– â–¡â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡',
                    'â–¡â– â–¡â–¡â–¡â– â–¡â–¡â– â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â– â– â– â– â– â–¡â–¡',
                    'â– â–¡â–¡â–¡â–¡â– â–¡â–¡â– â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â– â– â– â– â– â– â– â– â– ',
                    'â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â– â– â– â– â– â–¡â–¡',
                    'â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â– â– â–¡â– â– â–¡â–¡',
                    'â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â– â–¡â–¡â–¡â– â–¡â–¡',
                ];
            let EMPTY = 'ï¼¿';
            
            let block_area = document.createElement('div');
            let block_lines = [];
            let block_lines_str = [];
            let LINE_NUM = CLEAR.length;
            let LINE_LENGTH = CLEAR[0].length;
            let empty_str = (()=>{
                let s = '';
                for(let i = 0; i < LINE_LENGTH; i++){
                    s += EMPTY;
                }
                return s;
            })();
            for(let i = 0; i < LINE_NUM; i++){
                let line = document.createElement('span');
                block_lines_str.push( empty_str );
                line.textContent = block_lines_str[i];
                block_area.appendChild( line );
                block_area.appendChild( document.createElement('br') );

                block_lines.push( line );
            }

            let open = document.getElementById('trp7i_open');
            open.style.cursor = 'default';
            let say_clear = document.createElement('span');

            open.appendChild((()=>{
                function trp7i_set(x, y_before, y_now, y_end, block){
                    function trp7i_setInner(){
                        if(y_before !== -1){
                            let line = block_lines_str[y_before];
                            block_lines_str[y_before] = line.substring(0,x) +EMPTY+ line.substring(x+1,line.length);
                            block_lines[y_before].textContent = block_lines_str[y_before];
                        }
                        let line = block_lines_str[y_now];
                        block_lines_str[y_now] = line.substring(0,x) +block+ line.substring(x+1,line.length);
                        block_lines[y_now].textContent = block_lines_str[y_now];

                        if(y_now !== y_end){
                            y_before = y_now;
                            y_now++;
                            console.log(x+","+y_now);
                            setTimeout( trp7i_setInner ,50 );
                        }
                    }

                    trp7i_setInner();
                }

                let block_x = 0;
                let block_y = CLEAR.length - 1;
                let block_fall_num = 1;
                
                let btn = document.createElement('span');
                btn.textContent = 'ðŸ‘º';
                btn.style.cursor = 'pointer';
                btn.addEventListener('click',()=>{
                    if(block_fall_num < 10){
                        block_fall_num += 0.05;
                    }
                    
                    for(let i = 0; i < Math.floor( block_fall_num ); i++){
                        if(block_y === -1){
                            say_clear.textContent = 'ï¼œã‚¯ãƒªã‚¢â˜…';
                            return;
                        }
                        trp7i_set( block_x, -1, 0 ,block_y, CLEAR[block_y].substring(block_x,block_x+1) );

                        block_x++;
                        if(block_x === CLEAR[0].length){
                            block_x = 0;
                            block_y--;
                        }
                    }
                });
                return btn;
            })());
            open.appendChild( say_clear );
            open.appendChild( document.createElement('br') );
            open.appendChild( block_area );
        } ,()=>{});
    </script>


    <!-- trp8 -->
    <!-- <div id="trp8" style="background-color:#5555FF;"></div>
    <script type="text/javascript" src="trp8.js"></script> -->
    <!-- /trp8 -->
</body>

</html>